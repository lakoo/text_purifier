
\begin{DoxyItemize}
\item \href{#introduction}{\tt Introduction}
\item \href{#installation}{\tt Installation}
\item \href{#example}{\tt Example}
\item \href{#license}{\tt License}
\end{DoxyItemize}

\subsection*{Introduction}

This is a C++ library for purifying text from a list of words. It supports U\+T\+F-\/8 string (std\+::wstirng, std\+::string, wchar\+\_\+t$\ast$, char$\ast$).

\subsection*{Installation}


\begin{DoxyCode}
git clone https://github.com/lakoo/text\_purifier.git
cd text\_purifier
./autogen.sh
./configure
make
make install
\end{DoxyCode}


\subsection*{Example}


\begin{DoxyCode}
\{C++\}
################
# example.cpp
################

#include <iostream>
#include <list>
#include <string>
#include <type\_traits>

#include <text\_purifier.h>


using namespace std;


void wStringExample()
\{
    list<wstring> list = \{ L"政治話題", L"粗口", L"色情圖片" \};
    lakoo::TextPurifier tp(list);

    const wstring str1(L"這是政治話題啊！");
    wcout << L"1.  " << str1 << L" -> " << tp.purify(str1, L"河蟹") << endl;

    wstring str2(L"這是粗口用語啊！");
    wcout << L"2.  " << str2 << L" -> ";
    tp.purify(str2, L"Hi, Auntie");
    wcout << str2 << endl;

    const wstring str3(L"這裏有政治話題、粗口用語、色情圖片等等。");
    wcout << L"3.  " << str3 << L" -> " << tp.purify(str3, L'畢', true) << endl;
    wcout << L"4.  " << str3 << L" -> " << tp.purify(str3, L'禁', false) << endl;
\}

void stringExample()
\{
    list<string> list = \{ "政治話題", "粗口", "色情圖片" \};
    lakoo::TextPurifier tp;

    tp.add(list);

    const string str1("這是政治話題啊！");
    cout << "5.  " << str1 << " -> " << tp.purify(str1, "河蟹") << endl;

    string str2("這是粗口用語啊！");
    cout << "6.  " << str2 << " -> ";
    tp.purify(str2, "Hi, Auntie");
    cout << str2 << endl;

    const string str3("這裏有政治話題、粗口用語、色情圖片等等。");
    cout << "7.  " << str3 << " -> " << tp.purify(str3, '*', true) << endl;
    cout << "8.  " << str3 << " -> " << tp.purify(str3, '#', false) << endl;
\}

void wcharExample()
\{
    const wchar\_t* list[] = \{ L"政治話題", L"粗口", L"色情圖片" \};
    lakoo::TextPurifier tp;

    tp.add(list, extent<decltype(list)>::value);

    const wchar\_t strA[] = L"這是政治話題啊！";
    const wchar\_t* str = tp.purify(strA, L"河蟹");
    wcout << "9.  " << strA << L" -> " << str << endl;
    tp.freePurifiedString(str);
    str = nullptr;

    const wchar\_t strB[] = L"這裏有政治話題、粗口用語、色情圖片等等。";

    str = tp.purify(strB, L'畢', true);
    wcout << "10. " << strB << L" -> " << str << endl;
    tp.freePurifiedString(str);
    str = nullptr;

    str = tp.purify(strB, L'禁', false);
    wcout << "11. " << strB << L" -> " << str << endl;
    tp.freePurifiedString(str);
    str = nullptr;
\}

void charExample()
\{
    const char* list[] = \{ "政治話題", "粗口", "色情圖片" \};
    lakoo::TextPurifier tp;

    for(const char* const word : list)
    \{
        tp.add(word);
    \}

    const char strA[] = "這是政治話題啊！";
    const char* str = tp.purify(strA, "河蟹");
    cout << "12. " << strA << " -> " << str << endl;
    tp.freePurifiedString(str);
    str = nullptr;

    const char strB[] = "這裏有政治話題、粗口用語、色情圖片等等。";

    str = tp.purify(strB, '*', true);
    cout << "13. " << strB << " -> " << str << endl;
    tp.freePurifiedString(str);
    str = nullptr;

    str = tp.purify(strB, '#', false);
    cout << "14. " << strB << " -> " << str << endl;
    tp.freePurifiedString(str);
    str = nullptr;
\}

int main(int, char*[])
\{
    ios::sync\_with\_stdio(false);
    locale::global(locale("C.UTF-8"));
    wcout.imbue(locale("C.UTF-8"));

    cout << "std::wstring" << endl;
    wStringExample();
    cout << endl;

    cout << "std::string" << endl;
    stringExample();
    cout << endl;

    cout << "wchar\_t" << endl;
    wcharExample();
    cout << endl;

    cout << "char" << endl;
    charExample();

    return 0;
\}
\}
\end{DoxyCode}



\begin{DoxyCode}
$ g++ -o example.o -std=c++11 -c example.cpp
$ g++ -o example -ltextpurifier -Wl,-rpath,/usr/local/lib example.o
$ ./example
std::wstring
1.  這是政治話題啊！ -> 這是河蟹啊！
2.  這是粗口用語啊！ -> 這是Hi, Auntie用語啊！
3.  這裏有政治話題、粗口用語、色情圖片等等。 -> 這裏有畢畢畢畢、畢畢用語、畢畢畢畢等等。
4.  這裏有政治話題、粗口用語、色情圖片等等。 -> 這裏有禁、禁用語、禁等等。

std::string
5.  這是政治話題啊！ -> 這是河蟹啊！
6.  這是粗口用語啊！ -> 這是Hi, Auntie用語啊！
7.  這裏有政治話題、粗口用語、色情圖片等等。 -> 這裏有****、**用語、****等等。
8.  這裏有政治話題、粗口用語、色情圖片等等。 -> 這裏有#、#用語、#等等。

wchar\_t
9.  這是政治話題啊！ -> 這是河蟹啊！
10. 這裏有政治話題、粗口用語、色情圖片等等。 -> 這裏有畢畢畢畢、畢畢用語、畢畢畢畢等等。
11. 這裏有政治話題、粗口用語、色情圖片等等。 -> 這裏有禁、禁用語、禁等等。

char
12. 這是政治話題啊！ -> 這是河蟹啊！
13. 這裏有政治話題、粗口用語、色情圖片等等。 -> 這裏有****、**用語、****等等。
14. 這裏有政治話題、粗口用語、色情圖片等等。 -> 這裏有#、#用語、#等等。
\end{DoxyCode}


\subsection*{License}

This software is licensed under the \href{https://www.gnu.org/copyleft/lgpl.html}{\tt G\+NU Lesser G\+PL v3 license}. © 2017 Lakoo Games Limited 